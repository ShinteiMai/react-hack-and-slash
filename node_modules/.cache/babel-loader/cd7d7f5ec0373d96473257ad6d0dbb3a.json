{"ast":null,"code":"var _jsxFileName = \"/home/shinteimai/workspace/personal/react-pokedex/src/pages/PokemonDetailsPage.tsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport Layout from \"../components/Layout\";\nimport PokemonDetailsBiography from \"../components/PokemonDetailsBiography\";\nimport PokemonDetailsEvolutions from \"../components/PokemonDetailsEvolutions\";\nimport PokemonDetailsHeader from \"../components/PokemonDetailsHeader\";\nimport PokemonDetailsStats from \"../components/PokemonDetailsStats\";\nimport Tab from \"../components/Tab\";\nimport { getPokemonById, pokemonsSelector } from \"../features/pokemonSlice\";\nimport { getSpeciesById, speciesSelector } from \"../features/speciesSlice\";\nimport { PokemonTypeColors, SliceStatus } from \"../globals\";\nimport { ScaleLoader } from \"react-spinners\";\n\nconst PokemonDetailsPage = ({\n  match\n}) => {\n  const {\n    id\n  } = match.params;\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [activeTab, setActiveTab] = useState(\"biography\");\n  const pokemons = useSelector(pokemonsSelector);\n  const species = useSelector(speciesSelector);\n  const selectedPokemon = pokemons.data.find(pokemon => pokemon !== null && pokemon.id === Number(id));\n  const selectedSpecies = species === null || species === void 0 ? void 0 : species.data.find(s => s.id === Number(id));\n  useEffect(() => {\n    if (pokemons.data.length === 0) {\n      dispatch(getPokemonById({\n        pokemonId: id\n      }));\n    }\n\n    dispatch(getSpeciesById({\n      pokemonId: id\n    })); //eslint-disable-next-line\n  }, []);\n  const backgroundColors = selectedPokemon === null || selectedPokemon === void 0 ? void 0 : selectedPokemon.types.map(({\n    type\n  }) => {\n    const [[, backgroundColor]] = Object.entries(PokemonTypeColors).filter(([key, _]) => key === type.name);\n    return backgroundColor;\n  });\n  const selectedBackgroundColor = backgroundColors && backgroundColors[0];\n  return /*#__PURE__*/React.createElement(Layout, {\n    title: \"Pokemon Details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, species.status.state === SliceStatus.IDLE || species.status.state === SliceStatus.LOADING ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center mx-auto mt-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ScaleLoader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(React.Fragment, null, selectedPokemon && selectedSpecies && selectedBackgroundColor && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"text-primary font-semibold transform hover:-translate-y-1 transition-transform ease-in duration-150 focus:outline-none\",\n    onClick: () => history.push(\"/\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text-primary font-semibold\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 19\n    }\n  }, \"Go Back\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-col lg:flex-row justify-center items-start w-full mx-auto mt-4 rounded-lg shadow-lg\",\n    style: {\n      backgroundColor: selectedBackgroundColor && selectedBackgroundColor.medium\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(PokemonDetailsHeader, {\n    pokemon: selectedPokemon,\n    species: selectedSpecies,\n    selectedBackgroundColor: selectedBackgroundColor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white lg:mt-0 rounded-t-3xl rounded-b-lg lg:rounded-t-none lg:rounded-b-none lg:rounded-r-lg overflow-hidden lg:overflow-y-scroll w-full pt-16 lg:pt-8 px-4 md:px-8 lg:px-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-row justify-evenly w-full\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Tab, {\n    handleSelect: () => setActiveTab(\"biography\"),\n    isSelected: activeTab === \"biography\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 23\n    }\n  }, \"Biography\"), /*#__PURE__*/React.createElement(Tab, {\n    handleSelect: () => setActiveTab(\"stats\"),\n    isSelected: activeTab === \"stats\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 23\n    }\n  }, \"Stats\"), /*#__PURE__*/React.createElement(Tab, {\n    handleSelect: () => setActiveTab(\"evolutions\"),\n    isSelected: activeTab === \"evolutions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 23\n    }\n  }, \"Evolutions\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lg:h-120\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 21\n    }\n  }, activeTab === \"biography\" && /*#__PURE__*/React.createElement(PokemonDetailsBiography, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 53\n    }\n  }), activeTab === \"stats\" && /*#__PURE__*/React.createElement(PokemonDetailsStats, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 49\n    }\n  }), activeTab === \"evolutions\" && /*#__PURE__*/React.createElement(PokemonDetailsEvolutions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }))))))));\n};\n\nexport default PokemonDetailsPage;","map":{"version":3,"sources":["/home/shinteimai/workspace/personal/react-pokedex/src/pages/PokemonDetailsPage.tsx"],"names":["React","useEffect","useState","useDispatch","useSelector","useHistory","Layout","PokemonDetailsBiography","PokemonDetailsEvolutions","PokemonDetailsHeader","PokemonDetailsStats","Tab","getPokemonById","pokemonsSelector","getSpeciesById","speciesSelector","PokemonTypeColors","SliceStatus","ScaleLoader","PokemonDetailsPage","match","id","params","dispatch","history","activeTab","setActiveTab","pokemons","species","selectedPokemon","data","find","pokemon","Number","selectedSpecies","s","length","pokemonId","backgroundColors","types","map","type","backgroundColor","Object","entries","filter","key","_","name","selectedBackgroundColor","status","state","IDLE","LOADING","push","medium"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { RouteComponentProps } from \"react-router\";\nimport Layout from \"../components/Layout\";\nimport PokemonDetailsBiography from \"../components/PokemonDetailsBiography\";\nimport PokemonDetailsEvolutions from \"../components/PokemonDetailsEvolutions\";\nimport PokemonDetailsHeader from \"../components/PokemonDetailsHeader\";\nimport PokemonDetailsStats from \"../components/PokemonDetailsStats\";\nimport Tab from \"../components/Tab\";\nimport { getPokemonById, pokemonsSelector } from \"../features/pokemonSlice\";\nimport { getSpeciesById, speciesSelector } from \"../features/speciesSlice\";\nimport { PokemonTypeColors, SliceStatus } from \"../globals\";\nimport { ScaleLoader } from \"react-spinners\";\n\ntype PokemonTabs = \"biography\" | \"stats\" | \"evolutions\";\n\ninterface MatchParams {\n  id: string;\n}\n\nconst PokemonDetailsPage = ({ match }: RouteComponentProps<MatchParams>) => {\n  const { id } = match.params;\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [activeTab, setActiveTab] = useState<PokemonTabs>(\"biography\");\n  const pokemons = useSelector(pokemonsSelector);\n  const species = useSelector(speciesSelector);\n  const selectedPokemon = pokemons.data.find(\n    (pokemon) => pokemon !== null && pokemon.id === Number(id)\n  );\n  const selectedSpecies = species?.data.find((s) => s.id === Number(id));\n\n  useEffect(() => {\n    if (pokemons.data.length === 0) {\n      dispatch(getPokemonById({ pokemonId: id }));\n    }\n    dispatch(getSpeciesById({ pokemonId: id }));\n    //eslint-disable-next-line\n  }, []);\n\n  const backgroundColors = selectedPokemon?.types.map(({ type }) => {\n    const [[, backgroundColor]] = Object.entries(PokemonTypeColors).filter(\n      ([key, _]) => key === type.name\n    );\n\n    return backgroundColor;\n  });\n\n  const selectedBackgroundColor = backgroundColors && backgroundColors[0];\n\n  return (\n    <Layout title=\"Pokemon Details\">\n      {species.status.state === SliceStatus.IDLE ||\n      species.status.state === SliceStatus.LOADING ? (\n        <div className=\"text-center mx-auto mt-12\">\n          <ScaleLoader />\n        </div>\n      ) : (\n        <>\n          <>\n            {selectedPokemon && selectedSpecies && selectedBackgroundColor && (\n              <>\n                <button\n                  className=\"text-primary font-semibold transform hover:-translate-y-1 transition-transform ease-in duration-150 focus:outline-none\"\n                  onClick={() => history.push(\"/\")}\n                >\n                  <span className=\"text-primary font-semibold\">Go Back</span>\n                </button>\n                <div\n                  className=\"flex flex-col lg:flex-row justify-center items-start w-full mx-auto mt-4 rounded-lg shadow-lg\"\n                  style={{\n                    backgroundColor:\n                      selectedBackgroundColor && selectedBackgroundColor.medium,\n                  }}\n                >\n                  <PokemonDetailsHeader\n                    pokemon={selectedPokemon}\n                    species={selectedSpecies}\n                    selectedBackgroundColor={selectedBackgroundColor}\n                  />\n                  <div className=\"bg-white lg:mt-0 rounded-t-3xl rounded-b-lg lg:rounded-t-none lg:rounded-b-none lg:rounded-r-lg overflow-hidden lg:overflow-y-scroll w-full pt-16 lg:pt-8 px-4 md:px-8 lg:px-12\">\n                    <div className=\"flex flex-row justify-evenly w-full\">\n                      <Tab\n                        handleSelect={() => setActiveTab(\"biography\")}\n                        isSelected={activeTab === \"biography\"}\n                      >\n                        Biography\n                      </Tab>\n                      <Tab\n                        handleSelect={() => setActiveTab(\"stats\")}\n                        isSelected={activeTab === \"stats\"}\n                      >\n                        Stats\n                      </Tab>\n                      <Tab\n                        handleSelect={() => setActiveTab(\"evolutions\")}\n                        isSelected={activeTab === \"evolutions\"}\n                      >\n                        Evolutions\n                      </Tab>\n                    </div>\n                    <div className=\"lg:h-120\">\n                      {activeTab === \"biography\" && <PokemonDetailsBiography />}\n                      {activeTab === \"stats\" && <PokemonDetailsStats />}\n                      {activeTab === \"evolutions\" && (\n                        <PokemonDetailsEvolutions />\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n          </>\n        </>\n      )}\n    </Layout>\n  );\n};\nexport default PokemonDetailsPage;\n"]},"metadata":{},"sourceType":"module"}