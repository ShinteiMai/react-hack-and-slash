{"ast":null,"code":"var _jsxFileName = \"/home/shinteimai/workspace/personal/react-pokedex/src/components/PokemonDetailsEvolutions.tsx\";\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getPokemonById, pokemonsSelector } from \"../features/pokemonSlice\";\nimport PokemonEvolution from \"./PokemonEvolution\";\n\nconst PokemonDetailsEvolutions = ({\n  pokemon,\n  species,\n  evolutionChain,\n  selectedBackgroundColor\n}) => {\n  const dispatch = useDispatch();\n  const pokemons = useSelector(pokemonsSelector);\n  const [selectedPokemonIds, setSelectedPokemonIds] = useState([]);\n  const getPokemonEvolution = useCallback(chain => {\n    if (!chain) {\n      return [];\n    } else {\n      return [chain.species].concat(getPokemonEvolution(chain.evolvesTo[0]));\n    }\n  }, []);\n  useEffect(() => {\n    if (evolutionChain === null || evolutionChain === void 0 ? void 0 : evolutionChain.chain) {\n      const pokemons = getPokemonEvolution(evolutionChain === null || evolutionChain === void 0 ? void 0 : evolutionChain.chain);\n      const pokemonIds = pokemons.map(({\n        url\n      }) => Number(url.split(\"/\").slice(-2)[0]));\n\n      for (const pokemonId of pokemonIds) {\n        dispatch(getPokemonById({\n          pokemonId\n        }));\n      }\n\n      console.log(pokemonIds);\n    } //eslint-disable-next-line\n\n  }, []);\n  const selectedPokemons = pokemons.data.filter(pokemon => pokemon !== null && selectedPokemonIds.includes(pokemon.id));\n  console.log(selectedPokemons);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-12 text-center \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, evolutionChain === null ? /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, \"No Evolution Chain\") : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"lg:grid lg:grid-cols-2 lg:gap-y-10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, selectedPokemons.map(pokemon => /*#__PURE__*/React.createElement(React.Fragment, null, pokemon && /*#__PURE__*/React.createElement(PokemonEvolution, {\n    pokemon: pokemon,\n    selectedBackgroundColor: selectedBackgroundColor,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  })))));\n};\n\nexport default PokemonDetailsEvolutions;","map":{"version":3,"sources":["/home/shinteimai/workspace/personal/react-pokedex/src/components/PokemonDetailsEvolutions.tsx"],"names":["React","useCallback","useEffect","useState","useDispatch","useSelector","getPokemonById","pokemonsSelector","PokemonEvolution","PokemonDetailsEvolutions","pokemon","species","evolutionChain","selectedBackgroundColor","dispatch","pokemons","selectedPokemonIds","setSelectedPokemonIds","getPokemonEvolution","chain","concat","evolvesTo","pokemonIds","map","url","Number","split","slice","pokemonId","console","log","selectedPokemons","data","filter","includes","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,SAA7B,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,SACEC,cADF,EAGEC,gBAHF,QAIO,0BAJP;AAQA,OAAOC,gBAAP,MAA6B,oBAA7B;;AASA,MAAMC,wBAAwB,GAAG,CAAC;AAChCC,EAAAA,OADgC;AAEhCC,EAAAA,OAFgC;AAGhCC,EAAAA,cAHgC;AAIhCC,EAAAA;AAJgC,CAAD,KAKpB;AACX,QAAMC,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAMW,QAAQ,GAAGV,WAAW,CAACE,gBAAD,CAA5B;AACA,QAAM,CAACS,kBAAD,EAAqBC,qBAArB,IAA8Cd,QAAQ,CAAW,EAAX,CAA5D;AAEA,QAAMe,mBAAmB,GAAGjB,WAAW,CACpCkB,KAAD,IAAiD;AAC/C,QAAI,CAACA,KAAL,EAAY;AACV,aAAO,EAAP;AACD,KAFD,MAEO;AACL,aAAO,CAACA,KAAK,CAACR,OAAP,EAAgBS,MAAhB,CAAuBF,mBAAmB,CAACC,KAAK,CAACE,SAAN,CAAgB,CAAhB,CAAD,CAA1C,CAAP;AACD;AACF,GAPoC,EAQrC,EARqC,CAAvC;AAWAnB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIU,cAAJ,aAAIA,cAAJ,uBAAIA,cAAc,CAAEO,KAApB,EAA2B;AACzB,YAAMJ,QAA4B,GAAGG,mBAAmB,CACtDN,cADsD,aACtDA,cADsD,uBACtDA,cAAc,CAAEO,KADsC,CAAxD;AAGA,YAAMG,UAAU,GAAGP,QAAQ,CAACQ,GAAT,CAAa,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAC9BC,MAAM,CAACD,GAAG,CAACE,KAAJ,CAAU,GAAV,EAAeC,KAAf,CAAqB,CAAC,CAAtB,EAAyB,CAAzB,CAAD,CADW,CAAnB;;AAGA,WAAK,MAAMC,SAAX,IAAwBN,UAAxB,EAAoC;AAClCR,QAAAA,QAAQ,CAACR,cAAc,CAAC;AAAEsB,UAAAA;AAAF,SAAD,CAAf,CAAR;AACD;;AACDC,MAAAA,OAAO,CAACC,GAAR,CAAYR,UAAZ;AACD,KAZa,CAad;;AACD,GAdQ,EAcN,EAdM,CAAT;AAgBA,QAAMS,gBAAoC,GAAGhB,QAAQ,CAACiB,IAAT,CAAcC,MAAd,CAC1CvB,OAAD,IAAaA,OAAO,KAAK,IAAZ,IAAoBM,kBAAkB,CAACkB,QAAnB,CAA4BxB,OAAO,CAACyB,EAApC,CADU,CAA7C;AAIAN,EAAAA,OAAO,CAACC,GAAR,CAAYC,gBAAZ;AAEA,sBACE;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGnB,cAAc,KAAK,IAAnB,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,gBAGC;AAAK,IAAA,SAAS,EAAC,oCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGmB,gBAAgB,CAACR,GAAjB,CAAsBb,OAAD,iBACpB,0CACGA,OAAO,iBACN,oBAAC,gBAAD;AACE,IAAA,OAAO,EAAEA,OADX;AAEE,IAAA,uBAAuB,EAAEG,uBAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CADD,CADH,CAJJ,CADF;AAiCD,CA5ED;;AA8EA,eAAeJ,wBAAf","sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { ChainLink, EvolutionChain } from \"../features/evolutionChainSlice\";\nimport {\n  getPokemonById,\n  Pokemon,\n  pokemonsSelector,\n} from \"../features/pokemonSlice\";\nimport { Species } from \"../features/speciesSlice\";\nimport { NamedAPIResource } from \"../features/types\";\n\nimport PokemonEvolution from \"./PokemonEvolution\";\n\ntype Props = {\n  pokemon: Pokemon;\n  species: Species;\n  evolutionChain: EvolutionChain | null;\n  selectedBackgroundColor: { light: string; medium: string };\n};\n\nconst PokemonDetailsEvolutions = ({\n  pokemon,\n  species,\n  evolutionChain,\n  selectedBackgroundColor,\n}: Props) => {\n  const dispatch = useDispatch();\n  const pokemons = useSelector(pokemonsSelector);\n  const [selectedPokemonIds, setSelectedPokemonIds] = useState<number[]>([]);\n\n  const getPokemonEvolution = useCallback(\n    (chain: ChainLink | null): NamedAPIResource[] => {\n      if (!chain) {\n        return [];\n      } else {\n        return [chain.species].concat(getPokemonEvolution(chain.evolvesTo[0]));\n      }\n    },\n    []\n  );\n\n  useEffect(() => {\n    if (evolutionChain?.chain) {\n      const pokemons: NamedAPIResource[] = getPokemonEvolution(\n        evolutionChain?.chain\n      );\n      const pokemonIds = pokemons.map(({ url }) =>\n        Number(url.split(\"/\").slice(-2)[0])\n      );\n      for (const pokemonId of pokemonIds) {\n        dispatch(getPokemonById({ pokemonId }));\n      }\n      console.log(pokemonIds);\n    }\n    //eslint-disable-next-line\n  }, []);\n\n  const selectedPokemons: (Pokemon | null)[] = pokemons.data.filter(\n    (pokemon) => pokemon !== null && selectedPokemonIds.includes(pokemon.id)\n  );\n\n  console.log(selectedPokemons);\n\n  return (\n    <div className=\"mt-12 text-center \">\n      {evolutionChain === null ? (\n        <h2>No Evolution Chain</h2>\n      ) : (\n        <div className=\"lg:grid lg:grid-cols-2 lg:gap-y-10\">\n          {selectedPokemons.map((pokemon) => (\n            <>\n              {pokemon && (\n                <PokemonEvolution\n                  pokemon={pokemon}\n                  selectedBackgroundColor={selectedBackgroundColor}\n                />\n              )}\n            </>\n          ))}\n          {/* <PokemonEvolution\n            pokemon={pokemon}\n            selectedBackgroundColor={selectedBackgroundColor}\n          />\n\n          <PokemonEvolution\n            pokemon={pokemon}\n            selectedBackgroundColor={selectedBackgroundColor}\n          />\n          <PokemonEvolution\n            pokemon={pokemon}\n            selectedBackgroundColor={selectedBackgroundColor}\n          /> */}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PokemonDetailsEvolutions;\n"]},"metadata":{},"sourceType":"module"}