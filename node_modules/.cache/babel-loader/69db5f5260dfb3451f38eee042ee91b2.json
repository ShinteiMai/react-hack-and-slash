{"ast":null,"code":"import React from\"react\";import PokemonForm from\"../components/PokemonForm\";import Layout from\"../components/Layout\";import InfiniteScroll from\"../components/InfiniteScroll\";import PokemonCard from\"../components/PokemonCard\";import{useSelector}from\"react-redux\";import{pokemonsSelector,getPokemons}from\"../features/pokemonSlice\";import{SliceStatus}from\"../globals\";import{cachedPokemonsSelector}from\"../features/cachedPokemonsSlice\";import PokemonSkeleton from\"../components/PokemonSkeleton\";var PokemonsPage=function PokemonsPage(){var pokemons=useSelector(pokemonsSelector);var cachedPokemons=useSelector(cachedPokemonsSelector);return/*#__PURE__*/React.createElement(Layout,{title:\"Home\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"text-3xl lg:text-5xl font-semibold text-center sm:text-left\"},\"React Pok\\xE9dex\"),/*#__PURE__*/React.createElement(InfiniteScroll,{paginationHandler:function paginationHandler(page){return getPokemons({page:page,cachedPokemons:cachedPokemons.data,pokemons:pokemons.data});},isLoading:pokemons.status.state===SliceStatus.LOADING},function(_ref){var mutatePage=_ref.mutatePage;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"my-4 md:my-6 lg:my-8 w-full\"},/*#__PURE__*/React.createElement(PokemonForm,{placeholder:\"Search for a pok\\xE9mon...\",mutatePage:mutatePage})),/*#__PURE__*/React.createElement(\"div\",{className:\"mx-auto w-full text-center\"},!(cachedPokemons.status.state===SliceStatus.LOADING||cachedPokemons.status.state===SliceStatus.IDLE)&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(InfiniteScroll.Container,null,function(_ref2){var numCols=_ref2.numCols;return/*#__PURE__*/React.createElement(React.Fragment,null,pokemons.data.map(function(pokemon,index){return pokemon===null?/*#__PURE__*/React.createElement(\"div\",{key:\"loading-\".concat(index)},/*#__PURE__*/React.createElement(PokemonSkeleton,null)):/*#__PURE__*/React.createElement(PokemonCard,Object.assign({key:pokemon.id},pokemon,{position:index%numCols,numCols:numCols}));}));}),/*#__PURE__*/React.createElement(InfiniteScroll.Waypoint,null))));}));};export default PokemonsPage;","map":{"version":3,"sources":["/home/shinteimai/workspace/personal/react-pokedex/src/pages/PokemonsPage.tsx"],"names":["React","PokemonForm","Layout","InfiniteScroll","PokemonCard","useSelector","pokemonsSelector","getPokemons","SliceStatus","cachedPokemonsSelector","PokemonSkeleton","PokemonsPage","pokemons","cachedPokemons","page","data","status","state","LOADING","mutatePage","IDLE","numCols","map","pokemon","index","id"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,cAAP,KAA2B,8BAA3B,CACA,MAAOC,CAAAA,WAAP,KAAwB,2BAAxB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,gBAAT,CAA2BC,WAA3B,KAA8C,0BAA9C,CACA,OAASC,WAAT,KAA4B,YAA5B,CACA,OAASC,sBAAT,KAAuC,iCAAvC,CACA,MAAOC,CAAAA,eAAP,KAA4B,+BAA5B,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,CAACC,gBAAD,CAA5B,CACA,GAAMO,CAAAA,cAAc,CAAGR,WAAW,CAACI,sBAAD,CAAlC,CAEA,mBACE,oBAAC,MAAD,EAAQ,KAAK,CAAC,MAAd,eACE,0BAAI,SAAS,CAAC,6DAAd,qBADF,cAKE,oBAAC,cAAD,EACE,iBAAiB,CAAE,2BAACK,IAAD,QACjBP,CAAAA,WAAW,CAAC,CACVO,IAAI,CAAJA,IADU,CAEVD,cAAc,CAAEA,cAAc,CAACE,IAFrB,CAGVH,QAAQ,CAAEA,QAAQ,CAACG,IAHT,CAAD,CADM,EADrB,CAQE,SAAS,CAAEH,QAAQ,CAACI,MAAT,CAAgBC,KAAhB,GAA0BT,WAAW,CAACU,OARnD,EAUG,kBAAGC,CAAAA,UAAH,MAAGA,UAAH,oBACC,qDACE,2BAAK,SAAS,CAAC,6BAAf,eACE,oBAAC,WAAD,EACE,WAAW,CAAC,4BADd,CAEE,UAAU,CAAEA,UAFd,EADF,CADF,cAOE,2BAAK,SAAS,CAAC,4BAAf,EACG,EACCN,cAAc,CAACG,MAAf,CAAsBC,KAAtB,GAAgCT,WAAW,CAACU,OAA5C,EACAL,cAAc,CAACG,MAAf,CAAsBC,KAAtB,GAAgCT,WAAW,CAACY,IAF7C,gBAIC,qDACE,oBAAC,cAAD,CAAgB,SAAhB,MACG,mBAAGC,CAAAA,OAAH,OAAGA,OAAH,oBACC,wCACGT,QAAQ,CAACG,IAAT,CAAcO,GAAd,CAAkB,SAACC,OAAD,CAAUC,KAAV,QACjBD,CAAAA,OAAO,GAAK,IAAZ,cACE,2BAAK,GAAG,mBAAaC,KAAb,CAAR,eACE,oBAAC,eAAD,MADF,CADF,cAKE,oBAAC,WAAD,gBACE,GAAG,CAAED,OAAO,CAACE,EADf,EAEMF,OAFN,EAGE,QAAQ,CAAEC,KAAK,CAAGH,OAHpB,CAIE,OAAO,CAAEA,OAJX,GANe,EAAlB,CADH,CADD,EADH,CADF,cAqBE,oBAAC,cAAD,CAAgB,QAAhB,MArBF,CALJ,CAPF,CADD,EAVH,CALF,CADF,CA2DD,CA/DD,CAgEA,cAAeV,CAAAA,YAAf","sourcesContent":["import React from \"react\";\nimport PokemonForm from \"../components/PokemonForm\";\n\nimport Layout from \"../components/Layout\";\nimport InfiniteScroll from \"../components/InfiniteScroll\";\nimport PokemonCard from \"../components/PokemonCard\";\nimport { useSelector } from \"react-redux\";\nimport { pokemonsSelector, getPokemons } from \"../features/pokemonSlice\";\nimport { SliceStatus } from \"../globals\";\nimport { cachedPokemonsSelector } from \"../features/cachedPokemonsSlice\";\nimport PokemonSkeleton from \"../components/PokemonSkeleton\";\n\nconst PokemonsPage = () => {\n  const pokemons = useSelector(pokemonsSelector);\n  const cachedPokemons = useSelector(cachedPokemonsSelector);\n\n  return (\n    <Layout title=\"Home\">\n      <h1 className=\"text-3xl lg:text-5xl font-semibold text-center sm:text-left\">\n        React Pokédex\n      </h1>\n\n      <InfiniteScroll\n        paginationHandler={(page: number) =>\n          getPokemons({\n            page,\n            cachedPokemons: cachedPokemons.data,\n            pokemons: pokemons.data,\n          })\n        }\n        isLoading={pokemons.status.state === SliceStatus.LOADING}\n      >\n        {({ mutatePage }) => (\n          <>\n            <div className=\"my-4 md:my-6 lg:my-8 w-full\">\n              <PokemonForm\n                placeholder=\"Search for a pokémon...\"\n                mutatePage={mutatePage}\n              />\n            </div>\n            <div className=\"mx-auto w-full text-center\">\n              {!(\n                cachedPokemons.status.state === SliceStatus.LOADING ||\n                cachedPokemons.status.state === SliceStatus.IDLE\n              ) && (\n                <>\n                  <InfiniteScroll.Container>\n                    {({ numCols }) => (\n                      <>\n                        {pokemons.data.map((pokemon, index) =>\n                          pokemon === null ? (\n                            <div key={`loading-${index}`}>\n                              <PokemonSkeleton />\n                            </div>\n                          ) : (\n                            <PokemonCard\n                              key={pokemon.id}\n                              {...pokemon}\n                              position={index % numCols}\n                              numCols={numCols}\n                            />\n                          )\n                        )}\n                      </>\n                    )}\n                  </InfiniteScroll.Container>\n                  <InfiniteScroll.Waypoint />\n                </>\n              )}\n            </div>\n          </>\n        )}\n      </InfiniteScroll>\n    </Layout>\n  );\n};\nexport default PokemonsPage;\n"]},"metadata":{},"sourceType":"module"}