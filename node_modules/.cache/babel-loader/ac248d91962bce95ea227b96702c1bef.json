{"ast":null,"code":"import _objectSpread from\"/home/shinteimai/workspace/personal/react-pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/shinteimai/workspace/personal/react-pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef}from\"react\";import ProgressiveImage from\"react-progressive-image-loading\";import{useSpring,animated}from\"react-spring\";import{PokemonTypePlaceholders}from\"../globals\";import{useResize}from\"../hooks/useResize\";import{leftPad}from\"../utils/leftPad\";var calc=function calc(x,y,width,height){return[x-width/2,y-height/2];};var trans1=function trans1(x,y){return\"translate3d(-\".concat(x/30,\"px,-\").concat(y/30,\"px,0)\");};var trans2=function trans2(x,y){return\"translate3d(\".concat(x/20,\"px,\").concat(y/20,\"px,0)\");};var MaskSize=225;var ImageSize=325;var MaskStyling={width:MaskSize,height:MaskSize,bottom:50};var PokemonImageStyling={width:ImageSize,height:ImageSize,display:\"block\",left:0,right:0,bottom:5,margin:\"auto\"};var PokemonDetailsHeader=function PokemonDetailsHeader(_ref){var pokemon=_ref.pokemon,species=_ref.species,selectedBackgroundColor=_ref.selectedBackgroundColor;var containerRef=useRef(null);var _useResize=useResize(containerRef),width=_useResize.width,height=_useResize.height,top=_useResize.top,left=_useResize.left;var _useSpring=useSpring(function(){return{xy:[0,0],config:{mass:10,tension:550,friction:140}};}),_useSpring2=_slicedToArray(_useSpring,2),props=_useSpring2[0],set=_useSpring2[1];var kanjiName=species.names.find(function(name){return name.language.name===\"ja-Hrkt\";});var imagePlaceholder=pokemon.types.map(function(_ref2){var type=_ref2.type;var _Object$entries$filte=Object.entries(PokemonTypePlaceholders).filter(function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],_=_ref4[1];return key===type.name;}),_Object$entries$filte2=_slicedToArray(_Object$entries$filte,1),_Object$entries$filte3=_slicedToArray(_Object$entries$filte2[0],2),image=_Object$entries$filte3[1];return image;});return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"w-full\",ref:containerRef,onMouseMove:function onMouseMove(_ref5){var clientX=_ref5.clientX,clientY=_ref5.clientY;return set({xy:calc(clientX,clientY,width+left+225,height+top)});}},/*#__PURE__*/React.createElement(\"div\",{className:\"px-4 md:px-8\"},/*#__PURE__*/React.createElement(\"p\",{className:\"text-md mt-4 text-white font-medium\"},\"#\",leftPad(pokemon.id,3)),/*#__PURE__*/React.createElement(\"h1\",{className:\"text-2xl md:text-3xl lg:text-4xl text-white font-bold pb-6 capitalize\"},pokemon.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"relative text-center mx-auto w-full h-96 mt-8\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"absolute -mt-2 text-6xl z-0 w-full text-white opacity-50 font-extrabold overflow-hidden\"},kanjiName&&kanjiName.name),/*#__PURE__*/React.createElement(animated.div,{style:_objectSpread({},MaskStyling,{backgroundColor:selectedBackgroundColor.light,//@ts-ignore\ntransform:props.xy.interpolate(trans1)}),className:\"rounded-full absolute inset-x-auto mx-auto z-0 inline-block left-0 right-0\"}),/*#__PURE__*/React.createElement(animated.div,{style:_objectSpread({},PokemonImageStyling,{position:\"absolute\",//@ts-ignore\ntransform:props.xy.interpolate(trans2)})},/*#__PURE__*/React.createElement(ProgressiveImage,{preview:imagePlaceholder[0],src:pokemon.sprites.frontDefault,render:function render(src,style){return/*#__PURE__*/React.createElement(\"img\",{src:src,alt:pokemon.name,style:_objectSpread({},style)});}})))),/*#__PURE__*/React.createElement(\"div\",{className:\"-mt-12\"}));};export default PokemonDetailsHeader;","map":{"version":3,"sources":["/home/shinteimai/workspace/personal/react-pokedex/src/components/PokemonDetailsHeader.tsx"],"names":["React","useRef","ProgressiveImage","useSpring","animated","PokemonTypePlaceholders","useResize","leftPad","calc","x","y","width","height","trans1","trans2","MaskSize","ImageSize","MaskStyling","bottom","PokemonImageStyling","display","left","right","margin","PokemonDetailsHeader","pokemon","species","selectedBackgroundColor","containerRef","top","xy","config","mass","tension","friction","props","set","kanjiName","names","find","name","language","imagePlaceholder","types","map","type","Object","entries","filter","key","_","image","clientX","clientY","id","backgroundColor","light","transform","interpolate","position","sprites","frontDefault","src","style"],"mappings":"+UAAA,MAAOA,CAAAA,KAAP,EAAgBC,MAAhB,KAA8B,OAA9B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,iCAA7B,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,cAApC,CAGA,OAASC,uBAAT,KAAwC,YAAxC,CACA,OAASC,SAAT,KAA0B,oBAA1B,CACA,OAASC,OAAT,KAAwB,kBAAxB,CAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACC,CAAD,CAAYC,CAAZ,CAAuBC,KAAvB,CAAsCC,MAAtC,QAAyD,CACpEH,CAAC,CAAGE,KAAK,CAAG,CADwD,CAEpED,CAAC,CAAGE,MAAM,CAAG,CAFuD,CAAzD,EAAb,CAKA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACJ,CAAD,CAAYC,CAAZ,+BACGD,CAAC,CAAG,EADP,gBACgBC,CAAC,CAAG,EADpB,WAAf,CAGA,GAAMI,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACL,CAAD,CAAYC,CAAZ,8BACED,CAAC,CAAG,EADN,eACcC,CAAC,CAAG,EADlB,WAAf,CAGA,GAAMK,CAAAA,QAAQ,CAAG,GAAjB,CACA,GAAMC,CAAAA,SAAS,CAAG,GAAlB,CAEA,GAAMC,CAAAA,WAAW,CAAG,CAClBN,KAAK,CAAEI,QADW,CAElBH,MAAM,CAAEG,QAFU,CAGlBG,MAAM,CAAE,EAHU,CAApB,CAMA,GAAMC,CAAAA,mBAAmB,CAAG,CAC1BR,KAAK,CAAEK,SADmB,CAE1BJ,MAAM,CAAEI,SAFkB,CAG1BI,OAAO,CAAE,OAHiB,CAI1BC,IAAI,CAAE,CAJoB,CAK1BC,KAAK,CAAE,CALmB,CAM1BJ,MAAM,CAAE,CANkB,CAO1BK,MAAM,CAAE,MAPkB,CAA5B,CAgBA,GAAMC,CAAAA,oBAAoB,CAAG,QAAvBA,CAAAA,oBAAuB,MAIhB,IAHXC,CAAAA,OAGW,MAHXA,OAGW,CAFXC,OAEW,MAFXA,OAEW,CADXC,uBACW,MADXA,uBACW,CACX,GAAMC,CAAAA,YAAY,CAAG3B,MAAM,CAAwB,IAAxB,CAA3B,CADW,eAE0BK,SAAS,CAACsB,YAAD,CAFnC,CAEHjB,KAFG,YAEHA,KAFG,CAEIC,MAFJ,YAEIA,MAFJ,CAEYiB,GAFZ,YAEYA,GAFZ,CAEiBR,IAFjB,YAEiBA,IAFjB,gBAGUlB,SAAS,CAAC,iBAAO,CACpC2B,EAAE,CAAE,CAAC,CAAD,CAAI,CAAJ,CADgC,CAEpCC,MAAM,CAAE,CAAEC,IAAI,CAAE,EAAR,CAAYC,OAAO,CAAE,GAArB,CAA0BC,QAAQ,CAAE,GAApC,CAF4B,CAAP,EAAD,CAHnB,0CAGJC,KAHI,gBAGGC,GAHH,gBAQX,GAAMC,CAAAA,SAAS,CAAGX,OAAO,CAACY,KAAR,CAAcC,IAAd,CAChB,SAACC,IAAD,QAAUA,CAAAA,IAAI,CAACC,QAAL,CAAcD,IAAd,GAAuB,SAAjC,EADgB,CAAlB,CAGA,GAAME,CAAAA,gBAAgB,CAAGjB,OAAO,CAACkB,KAAR,CAAcC,GAAd,CAAkB,eAAc,IAAXC,CAAAA,IAAW,OAAXA,IAAW,2BACnCC,MAAM,CAACC,OAAP,CAAe1C,uBAAf,EAAwC2C,MAAxC,CAClB,kDAAEC,GAAF,UAAOC,CAAP,gBAAcD,CAAAA,GAAG,GAAKJ,IAAI,CAACL,IAA3B,EADkB,CADmC,mIAC7CW,KAD6C,2BAKvD,MAAOA,CAAAA,KAAP,CACD,CANwB,CAAzB,CAQA,mBACE,qDACE,2BACE,SAAS,CAAC,QADZ,CAEE,GAAG,CAAEvB,YAFP,CAGE,WAAW,CAAE,+BAAGwB,CAAAA,OAAH,OAAGA,OAAH,CAAYC,OAAZ,OAAYA,OAAZ,OACXjB,CAAAA,GAAG,CAAC,CACFN,EAAE,CAAEtB,IAAI,CAAC4C,OAAD,CAAUC,OAAV,CAAmB1C,KAAK,CAAGU,IAAR,CAAe,GAAlC,CAAuCT,MAAM,CAAGiB,GAAhD,CADN,CAAD,CADQ,EAHf,eASE,2BAAK,SAAS,CAAC,cAAf,eACE,yBAAG,SAAS,CAAC,qCAAb,MACItB,OAAO,CAACkB,OAAO,CAAC6B,EAAT,CAAa,CAAb,CADX,CADF,cAIE,0BAAI,SAAS,CAAC,uEAAd,EACG7B,OAAO,CAACe,IADX,CAJF,CATF,cAkBE,2BAAK,SAAS,CAAC,+CAAf,eACE,0BAAI,SAAS,CAAC,yFAAd,EACGH,SAAS,EAAIA,SAAS,CAACG,IAD1B,CADF,cAKE,oBAAC,QAAD,CAAU,GAAV,EACE,KAAK,kBACAvB,WADA,EAEHsC,eAAe,CAAE5B,uBAAuB,CAAC6B,KAFtC,CAGH;AACAC,SAAS,CAAEtB,KAAK,CAACL,EAAN,CAAS4B,WAAT,CAAqB7C,MAArB,CAJR,EADP,CAOE,SAAS,CAAC,4EAPZ,EALF,cAeE,oBAAC,QAAD,CAAU,GAAV,EACE,KAAK,kBACAM,mBADA,EAEHwC,QAAQ,CAAE,UAFP,CAGH;AACAF,SAAS,CAAEtB,KAAK,CAACL,EAAN,CAAS4B,WAAT,CAAqB5C,MAArB,CAJR,EADP,eAQE,oBAAC,gBAAD,EACE,OAAO,CAAE4B,gBAAgB,CAAC,CAAD,CAD3B,CAEE,GAAG,CAAEjB,OAAO,CAACmC,OAAR,CAAgBC,YAFvB,CAGE,MAAM,CAAE,gBAACC,GAAD,CAAMC,KAAN,qBACN,2BACE,GAAG,CAAED,GADP,CAEE,GAAG,CAAErC,OAAO,CAACe,IAFf,CAGE,KAAK,kBACAuB,KADA,CAHP,EADM,EAHV,EARF,CAfF,CAlBF,CADF,cA0DE,2BAAK,SAAS,CAAC,QAAf,EA1DF,CADF,CA8DD,CArFD,CAuFA,cAAevC,CAAAA,oBAAf","sourcesContent":["import React, { useRef } from \"react\";\nimport ProgressiveImage from \"react-progressive-image-loading\";\nimport { useSpring, animated } from \"react-spring\";\nimport { Pokemon } from \"../features/pokemonSlice\";\nimport { Species } from \"../features/speciesSlice\";\nimport { PokemonTypePlaceholders } from \"../globals\";\nimport { useResize } from \"../hooks/useResize\";\nimport { leftPad } from \"../utils/leftPad\";\n\nconst calc = (x: number, y: number, width: number, height: number) => [\n  x - width / 2,\n  y - height / 2,\n];\n\nconst trans1 = (x: number, y: number) =>\n  `translate3d(-${x / 30}px,-${y / 30}px,0)`;\n\nconst trans2 = (x: number, y: number) =>\n  `translate3d(${x / 20}px,${y / 20}px,0)`;\n\nconst MaskSize = 225;\nconst ImageSize = 325;\n\nconst MaskStyling = {\n  width: MaskSize,\n  height: MaskSize,\n  bottom: 50,\n};\n\nconst PokemonImageStyling = {\n  width: ImageSize,\n  height: ImageSize,\n  display: \"block\",\n  left: 0,\n  right: 0,\n  bottom: 5,\n  margin: \"auto\",\n};\n\ntype Props = {\n  pokemon: Pokemon;\n  species: Species;\n  selectedBackgroundColor: { light: string; medium: string };\n};\n\nconst PokemonDetailsHeader = ({\n  pokemon,\n  species,\n  selectedBackgroundColor,\n}: Props) => {\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const { width, height, top, left } = useResize(containerRef);\n  const [props, set] = useSpring(() => ({\n    xy: [0, 0],\n    config: { mass: 10, tension: 550, friction: 140 },\n  }));\n\n  const kanjiName = species.names.find(\n    (name) => name.language.name === \"ja-Hrkt\"\n  );\n  const imagePlaceholder = pokemon.types.map(({ type }) => {\n    const [[, image]] = Object.entries(PokemonTypePlaceholders).filter(\n      ([key, _]) => key === type.name\n    );\n\n    return image;\n  });\n\n  return (\n    <>\n      <div\n        className=\"w-full\"\n        ref={containerRef}\n        onMouseMove={({ clientX, clientY }) =>\n          set({\n            xy: calc(clientX, clientY, width + left + 225, height + top),\n          })\n        }\n      >\n        <div className=\"px-4 md:px-8\">\n          <p className=\"text-md mt-4 text-white font-medium\">\n            #{leftPad(pokemon.id, 3)}\n          </p>\n          <h1 className=\"text-2xl md:text-3xl lg:text-4xl text-white font-bold pb-6 capitalize\">\n            {pokemon.name}\n          </h1>\n        </div>\n\n        <div className=\"relative text-center mx-auto w-full h-96 mt-8\">\n          <h1 className=\"absolute -mt-2 text-6xl z-0 w-full text-white opacity-50 font-extrabold overflow-hidden\">\n            {kanjiName && kanjiName.name}\n          </h1>\n\n          <animated.div\n            style={{\n              ...MaskStyling,\n              backgroundColor: selectedBackgroundColor.light,\n              //@ts-ignore\n              transform: props.xy.interpolate(trans1),\n            }}\n            className=\"rounded-full absolute inset-x-auto mx-auto z-0 inline-block left-0 right-0\"\n          />\n\n          <animated.div\n            style={{\n              ...PokemonImageStyling,\n              position: \"absolute\",\n              //@ts-ignore\n              transform: props.xy.interpolate(trans2),\n            }}\n          >\n            <ProgressiveImage\n              preview={imagePlaceholder[0]}\n              src={pokemon.sprites.frontDefault}\n              render={(src, style) => (\n                <img\n                  src={src}\n                  alt={pokemon.name}\n                  style={{\n                    ...style,\n                  }}\n                />\n              )}\n            />\n          </animated.div>\n        </div>\n      </div>\n      <div className=\"-mt-12\" />\n    </>\n  );\n};\n\nexport default PokemonDetailsHeader;\n"]},"metadata":{},"sourceType":"module"}