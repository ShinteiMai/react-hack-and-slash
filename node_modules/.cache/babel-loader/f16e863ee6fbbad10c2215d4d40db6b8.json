{"ast":null,"code":"var _jsxFileName = \"/home/shinteimai/workspace/personal/react-pokedex/src/components/PokemonCard.tsx\";\nimport React from \"react\";\nimport { PokemonTypeColors, PokemonTypePlaceholders } from \"../globals\";\nimport { leftPad } from \"../utils/leftPad\";\nimport { useSpring, animated } from \"react-spring\";\nimport Trail from \"./Trail\";\nimport ProgressiveImage from \"react-progressive-image-loading\";\nimport { useHistory } from \"react-router-dom\";\nconst MaskStyling = {\n  width: 130,\n  height: 130,\n  zIndex: -10,\n  bottom: 8,\n  left: 16\n};\nconst ImageContainerStyling = {\n  width: 175,\n  height: 175\n};\n\nconst calc = (x, y, position, numCols) => {\n  const WINDOW_DIVIDER = 60;\n  const Y_DIVIDER = 0.5;\n  let positionDivider = 0.5;\n\n  switch (numCols) {\n    case 1:\n      positionDivider = 0.5;\n      break;\n\n    case 2:\n      if (position === 0) positionDivider = 0.3;\n      if (position === 1) positionDivider = 0.7;\n      break;\n\n    case 3:\n      if (position === 0) positionDivider = 0.25;\n      if (position === 1) positionDivider = 0.5;\n      if (position === 2) positionDivider = 0.75;\n      break;\n\n    default:\n      break;\n  }\n\n  return [-(y - window.innerHeight * Y_DIVIDER) / WINDOW_DIVIDER, (x - window.innerWidth * positionDivider) / WINDOW_DIVIDER, 1];\n};\n\nconst trans = (x, y, z) => {\n  return `perspective(600px) rotateX(${x}deg) rotateY(${y}deg) scale(${z})`;\n};\n\nconst PokemonCard = React.memo(({\n  id,\n  name,\n  sprites,\n  types,\n  position,\n  numCols\n}) => {\n  const history = useHistory();\n  const backgroundColors = types.map(({\n    type\n  }) => {\n    const [[, backgroundColor]] = Object.entries(PokemonTypeColors).filter(([key, _]) => key === type.name);\n    return backgroundColor;\n  });\n  const imagePlaceholder = types.map(({\n    type\n  }) => {\n    const [[, image]] = Object.entries(PokemonTypePlaceholders).filter(([key, _]) => key === type.name);\n    return image;\n  });\n  const [props, set] = useSpring(() => ({\n    xys: [0, 0, 1],\n    config: {\n      mass: 8,\n      tension: 350,\n      friction: 40\n    }\n  }));\n  return /*#__PURE__*/React.createElement(Trail, {\n    open: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(animated.div, {\n    onMouseMove: ({\n      clientX: x,\n      clientY: y\n    }) => set({\n      xys: calc(x, y, position, numCols)\n    }),\n    onMouseLeave: () => set({\n      xys: [0, 0, 1]\n    }),\n    className: \"w-full rounded-lg overflow-hidden shadow-lg mx-auto cursor-pointer hover:shadow-2xl transition-all duration-75 ease-in-out\",\n    style: {\n      // @ts-ignore\n      transform: props.xys.interpolate(trans),\n      backgroundColor: backgroundColors[0].medium\n    },\n    onClick: () => history.push(`/pokemons/${id}`),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-32 mx-auto w-full flex items-center justify-center relative\",\n    style: {\n      backgroundColor: backgroundColors[0].medium\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"text-6xl font-semibold text-black text-opacity-25 absolute tracking-xl top-1/8 pointer-events-none\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"#\", leftPad(id, 3)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inset-x-auto bottom-0 absolute z-20\",\n    style: ImageContainerStyling,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"rounded-full absolute z-0 inset-x-auto mx-auto\",\n    style: { ...MaskStyling,\n      backgroundColor: backgroundColors[0].light\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(ProgressiveImage, {\n    preview: imagePlaceholder[0],\n    src: sprites.frontDefault,\n    render: (src, style) => /*#__PURE__*/React.createElement(\"img\", {\n      src: src,\n      style: style,\n      alt: name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 19\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bg-white w-full pt-5 pb-8 text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"capitalize font-semibold text-3xl mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }, name), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flex flex-wrap mx-auto justify-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, types.map(({\n    type\n  }, index) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: `${id}-${type.name}`,\n      className: \"font-bold uppercase text-sm\" + (index !== types.length - 1 ? \" mr-6\" : \"\"),\n      style: {\n        color: backgroundColors[index].medium\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 19\n      }\n    }, type.name);\n  })))));\n}, (previousProps, nextProps) => previousProps.id === nextProps.id);\nexport default PokemonCard;","map":{"version":3,"sources":["/home/shinteimai/workspace/personal/react-pokedex/src/components/PokemonCard.tsx"],"names":["React","PokemonTypeColors","PokemonTypePlaceholders","leftPad","useSpring","animated","Trail","ProgressiveImage","useHistory","MaskStyling","width","height","zIndex","bottom","left","ImageContainerStyling","calc","x","y","position","numCols","WINDOW_DIVIDER","Y_DIVIDER","positionDivider","window","innerHeight","innerWidth","trans","z","PokemonCard","memo","id","name","sprites","types","history","backgroundColors","map","type","backgroundColor","Object","entries","filter","key","_","imagePlaceholder","image","props","set","xys","config","mass","tension","friction","clientX","clientY","transform","interpolate","medium","push","light","frontDefault","src","style","index","length","color","previousProps","nextProps"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Pokemon } from \"../features/pokemonSlice\";\nimport { PokemonTypeColors, PokemonTypePlaceholders } from \"../globals\";\nimport { leftPad } from \"../utils/leftPad\";\nimport { useSpring, animated } from \"react-spring\";\nimport Trail from \"./Trail\";\nimport ProgressiveImage from \"react-progressive-image-loading\";\nimport { useHistory } from \"react-router-dom\";\n\nconst MaskStyling = {\n  width: 130,\n  height: 130,\n  zIndex: -10,\n  bottom: 8,\n  left: 16,\n};\nconst ImageContainerStyling = {\n  width: 175,\n  height: 175,\n};\n\ntype Props = Pokemon & {\n  position: number;\n  numCols: number;\n};\n\nconst calc = (x: number, y: number, position: number, numCols: number) => {\n  const WINDOW_DIVIDER = 60;\n  const Y_DIVIDER = 0.5;\n  let positionDivider: number = 0.5;\n\n  switch (numCols) {\n    case 1:\n      positionDivider = 0.5;\n      break;\n    case 2:\n      if (position === 0) positionDivider = 0.3;\n      if (position === 1) positionDivider = 0.7;\n      break;\n    case 3:\n      if (position === 0) positionDivider = 0.25;\n      if (position === 1) positionDivider = 0.5;\n      if (position === 2) positionDivider = 0.75;\n      break;\n    default:\n      break;\n  }\n\n  return [\n    -(y - window.innerHeight * Y_DIVIDER) / WINDOW_DIVIDER,\n    (x - window.innerWidth * positionDivider) / WINDOW_DIVIDER,\n    1,\n  ];\n};\n\nconst trans = (x: number, y: number, z: number) => {\n  return `perspective(600px) rotateX(${x}deg) rotateY(${y}deg) scale(${z})`;\n};\n\nconst PokemonCard = React.memo(\n  ({ id, name, sprites, types, position, numCols }: Props) => {\n    const history = useHistory();\n    const backgroundColors = types.map(({ type }) => {\n      const [[, backgroundColor]] = Object.entries(PokemonTypeColors).filter(\n        ([key, _]) => key === type.name\n      );\n\n      return backgroundColor;\n    });\n    const imagePlaceholder = types.map(({ type }) => {\n      const [[, image]] = Object.entries(PokemonTypePlaceholders).filter(\n        ([key, _]) => key === type.name\n      );\n\n      return image;\n    });\n    const [props, set] = useSpring(() => ({\n      xys: [0, 0, 1],\n      config: { mass: 8, tension: 350, friction: 40 },\n    }));\n\n    return (\n      <Trail open={true}>\n        <animated.div\n          onMouseMove={({ clientX: x, clientY: y }) =>\n            set({ xys: calc(x, y, position, numCols) })\n          }\n          onMouseLeave={() => set({ xys: [0, 0, 1] })}\n          className=\"w-full rounded-lg overflow-hidden shadow-lg mx-auto cursor-pointer hover:shadow-2xl transition-all duration-75 ease-in-out\"\n          style={{\n            // @ts-ignore\n            transform: props.xys.interpolate(trans),\n            backgroundColor: backgroundColors[0].medium,\n          }}\n          onClick={() => history.push(`/pokemons/${id}`)}\n        >\n          <div\n            className=\"py-32 mx-auto w-full flex items-center justify-center relative\"\n            style={{\n              backgroundColor: backgroundColors[0].medium,\n            }}\n          >\n            <p className=\"text-6xl font-semibold text-black text-opacity-25 absolute tracking-xl top-1/8 pointer-events-none\">\n              #{leftPad(id, 3)}\n            </p>\n\n            <div\n              className=\"inset-x-auto bottom-0 absolute z-20\"\n              style={ImageContainerStyling}\n            >\n              <div\n                className=\"rounded-full absolute z-0 inset-x-auto mx-auto\"\n                style={{\n                  ...MaskStyling,\n                  backgroundColor: backgroundColors[0].light,\n                }}\n              />\n              <ProgressiveImage\n                preview={imagePlaceholder[0]}\n                src={sprites.frontDefault}\n                render={(src, style) => (\n                  <img src={src} style={style} alt={name} />\n                )}\n              />\n            </div>\n          </div>\n\n          <div className=\"bg-white w-full pt-5 pb-8 text-center\">\n            <h1 className=\"capitalize font-semibold text-3xl mb-2\">{name}</h1>\n            <div className=\"flex flex-wrap mx-auto justify-center\">\n              {types.map(({ type }, index) => {\n                return (\n                  <p\n                    key={`${id}-${type.name}`}\n                    className={\n                      \"font-bold uppercase text-sm\" +\n                      (index !== types.length - 1 ? \" mr-6\" : \"\")\n                    }\n                    style={{ color: backgroundColors[index].medium }}\n                  >\n                    {type.name}\n                  </p>\n                );\n              })}\n            </div>\n          </div>\n        </animated.div>\n      </Trail>\n    );\n  },\n  (previousProps, nextProps) => previousProps.id === nextProps.id\n);\n\nexport default PokemonCard;\n"]},"metadata":{},"sourceType":"module"}