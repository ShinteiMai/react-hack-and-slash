{"ast":null,"code":"import _regeneratorRuntime from\"/home/shinteimai/workspace/personal/react-pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/shinteimai/workspace/personal/react-pokedex/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{SliceStatus}from\"../globals\";export var statusHandlerReducer={initialize:function initialize(state,action){state.status.state=SliceStatus.LOADING;},error:function error(state,action){state.status.state=SliceStatus.ERROR;},success:function success(state,action){state.status.state=SliceStatus.SUCCESS;}};export var wrapReduxAsyncHandler=function wrapReduxAsyncHandler(statusHandler,callback){return function(args){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch(statusHandler.initialize({}));callback(dispatch,args).then(function(){dispatch(statusHandler.success({}));}).catch(function(err){console.error(err);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};};","map":{"version":3,"sources":["/home/shinteimai/workspace/personal/react-pokedex/src/features/utilities.ts"],"names":["SliceStatus","statusHandlerReducer","initialize","state","action","status","LOADING","error","ERROR","success","SUCCESS","wrapReduxAsyncHandler","statusHandler","callback","args","dispatch","then","catch","err","console"],"mappings":"6UAEA,OAASA,WAAT,KAA4B,YAA5B,CAEA,MAAO,IAAMC,CAAAA,oBAAoB,CAAG,CAClCC,UAAU,CAAE,oBAACC,KAAD,CAAaC,MAAb,CAAuC,CACjDD,KAAK,CAACE,MAAN,CAAaF,KAAb,CAAqBH,WAAW,CAACM,OAAjC,CACD,CAHiC,CAIlCC,KAAK,CAAE,eAACJ,KAAD,CAAaC,MAAb,CAAuC,CAC5CD,KAAK,CAACE,MAAN,CAAaF,KAAb,CAAqBH,WAAW,CAACQ,KAAjC,CACD,CANiC,CAOlCC,OAAO,CAAE,iBAACN,KAAD,CAAaC,MAAb,CAAuC,CAC9CD,KAAK,CAACE,MAAN,CAAaF,KAAb,CAAqBH,WAAW,CAACU,OAAjC,CACD,CATiC,CAA7B,CAsBP,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CACnCC,aADmC,CAEnCC,QAFmC,QAGhC,UAACC,IAAD,iGAAgB,iBAAOC,QAAP,kHACnBA,QAAQ,CAACH,aAAa,CAACV,UAAd,CAAyB,EAAzB,CAAD,CAAR,CAEAW,QAAQ,CAACE,QAAD,CAAWD,IAAX,CAAR,CACGE,IADH,CACQ,UAAM,CACVD,QAAQ,CAACH,aAAa,CAACH,OAAd,CAAsB,EAAtB,CAAD,CAAR,CACD,CAHH,EAIGQ,KAJH,CAIS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACZ,KAAR,CAAcW,GAAd,EACD,CANH,EAHmB,sDAAhB,gEAHgC,EAA9B","sourcesContent":["import { Dispatch } from \"react\";\nimport { ActionCreatorWithPayload, PayloadAction } from \"@reduxjs/toolkit\";\nimport { SliceStatus } from \"../globals\";\n\nexport const statusHandlerReducer = {\n  initialize: (state: any, action: PayloadAction) => {\n    state.status.state = SliceStatus.LOADING;\n  },\n  error: (state: any, action: PayloadAction) => {\n    state.status.state = SliceStatus.ERROR;\n  },\n  success: (state: any, action: PayloadAction) => {\n    state.status.state = SliceStatus.SUCCESS;\n  },\n};\n\ntype StatusHandler = {\n  initialize: ActionCreatorWithPayload<any, string>;\n  success: ActionCreatorWithPayload<any, string>;\n  error: ActionCreatorWithPayload<any, string>;\n};\n\nexport type WrapReduxAsyncHandlerType = (\n  args?: any\n) => (dispatch: React.Dispatch<any>) => Promise<void>;\n\nexport const wrapReduxAsyncHandler = (\n  statusHandler: StatusHandler,\n  callback: (dispatch: Dispatch<any>, args: any) => Promise<void>\n) => (args?: any) => async (dispatch: Dispatch<any>) => {\n  dispatch(statusHandler.initialize({}));\n\n  callback(dispatch, args)\n    .then(() => {\n      dispatch(statusHandler.success({}));\n    })\n    .catch((err) => {\n      console.error(err);\n    });\n};\n"]},"metadata":{},"sourceType":"module"}